<!-- CHART 1: vector space -->
<h3>Chart 1 (vector space)</h3>
<div id="chart1"></div>

<script src="https://d3js.org/d3.v7.min.js"></script>
<script>
// chart1 code
const width1 = 400, height1 = 250;
const svg1 = d3.select("#chart1")
  .append("svg")
  .attr("width", width1)
  .attr("height", height1);

// grid
for (let x = 0; x < width1; x += 40) {
    svg1.append("line")
        .attr("x1", x).attr("y1", 0)
        .attr("x2", x).attr("y2", height1)
        .attr("stroke", "#ccc");
}
for (let y = 0; y < height1; y += 40) {
    svg1.append("line")
        .attr("x1", 0).attr("y1", y)
        .attr("x2", width1).attr("y2", y)
        .attr("stroke", "#ccc");
}

// example 2 vectors
const v1 = {x: 280, y:100}; // eα1
const v2 = {x: 160, y:60};  // eα2

// arrow function
function drawArrow(x1,y1,x2,y2,color){
  svg1.append("line")
      .attr("x1",x1).attr("y1",y1)
      .attr("x2",x1).attr("y2",y1)
      .attr("stroke",color).attr("stroke-width",2)
      .transition().duration(1000)
      .attr("x2",x2).attr("y2",y2);
}

// transition: arrow grows
drawArrow(200,120, v1.x,v1.y,"#224");
drawArrow(200,120, v2.x,v2.y,"#2aa");

// interaction: highlight grid when hover
svg1.selectAll("line")
   .on("mouseover",function(){
       d3.select(this).attr("stroke","orange");
   })
   .on("mouseout",function(){
       d3.select(this).attr("stroke","#ccc");
   });
</script>
