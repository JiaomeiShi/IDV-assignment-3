<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Assignment 3 — Charts 8–12</title>
  <script src="https://d3js.org/d3.v7.min.js"></script>
  <style>
    body {
      font-family: system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
      background-color: #e8efef;
      color: #333;
      padding: 30px;
    }
    h2 { margin-top: 60px; }
    svg {
      background: white;
      border-radius: 12px;
      box-shadow: 0 4px 16px rgba(0,0,0,0.1);
      margin-bottom: 10px;
    }
    .note {
      color: #555;
      font-size: 14px;
      margin-bottom: 30px;
    }
  </style>
</head>
<body>
  <h1>Assignment 3 — D3.js Charts (8–12)</h1>

  <!-- Chart 8 -->
  <h2>Chart 8 (Simple Bars)</h2>
  <svg id="chart8" width="600" height="300"></svg>
  <p class="note">Bars comparing model accuracies with hover highlight and smooth transition.</p>

  <!-- Chart 9 -->
  <h2>Chart 9 (Sketch → SVG Line Drawing)</h2>
  <svg id="chart9" width="300" height="300"></svg>
  <p class="note">Simulated SVG drawing animation for a sketch-like line.</p>

  <!-- Chart 10 -->
  <h2>Chart 10 (Map)</h2>
  <svg id="chart10" width="400" height="400"></svg>
  <p class="note">A mock geographic circle overlay to represent spatial mapping.</p>

  <!-- Chart 11 -->
  <h2>Chart 11 (Function)</h2>
  <svg id="chart11" width="600" height="300"></svg>
  <p class="note">Two probability density curves with shaded overlap area and tooltip on hover.</p>

  <!-- Chart 12 -->
  <h2>Chart 12 (Geometry)</h2>
  <svg id="chart12" width="400" height="300"></svg>
  <p class="note">Two overlapping rectangles with animated geometric relation lines.</p>

  <script>
  // ---------------- Chart 8 ----------------
  const svg8 = d3.select("#chart8");
  const data8 = [
    {model: "BERT", val: 74.4},
    {model: "RoBERTa", val: 81.9},
    {model: "BART", val: 73.1}
  ];
  const x8 = d3.scaleBand().domain(data8.map(d=>d.model)).range([50,550]).padding(0.4);
  const y8 = d3.scaleLinear().domain([0,100]).range([250,30]);
  svg8.append("g").attr("transform","translate(0,250)").call(d3.axisBottom(x8));
  svg8.append("g").attr("transform","translate(50,0)").call(d3.axisLeft(y8));
  svg8.selectAll(".bar")
      .data(data8)
      .enter()
      .append("rect")
      .attr("x", d => x8(d.model))
      .attr("y", 250)
      .attr("width", x8.bandwidth())
      .attr("height", 0)
      .attr("fill", "#f4d06f")
      .on("mouseover", function() { d3.select(this).attr("fill","#f0b429"); })
      .on("mouseout", function() { d3.select(this).attr("fill","#f4d06f"); })
      .transition()
      .duration(1000)
      .attr("y", d => y8(d.val))
      .attr("height", d => 250 - y8(d.val));

  // ---------------- Chart 9 ----------------
  const svg9 = d3.select("#chart9");
  const lineData9 = [[50,200],[100,100],[150,200],[200,100],[250,200]];
  const line9 = d3.line()(lineData9);
  svg9.append("path")
    .attr("d", line9)
    .attr("fill", "none")
    .attr("stroke", "#3a66d6")
    .attr("stroke-width", 3)
    .attr("stroke-dasharray", function() { return this.getTotalLength(); })
    .attr("stroke-dashoffset", function() { return this.getTotalLength(); })
    .transition()
    .duration(2000)
    .ease(d3.easeLinear)
    .attr("stroke-dashoffset", 0);

  // ---------------- Chart 10 ----------------
  const svg10 = d3.select("#chart10");
  svg10.append("rect")
    .attr("x", 0).attr("y", 0)
    .attr("width", 400).attr("height", 400)
    .attr("fill", "#faf7e8");
  svg10.append("circle")
    .attr("cx", 200).attr("cy", 200)
    .attr("r", 0)
    .attr("stroke", "#b04b4b").attr("stroke-width", 3).attr("fill","none")
    .transition().duration(1500).attr("r",120);
  svg10.append("text").attr("x", 200).attr("y", 210).text("x'")
    .attr("text-anchor","middle").style("fill","#333").style("font-size","16px");

  // ---------------- Chart 11 ----------------
  const svg11 = d3.select("#chart11");
  const x11 = d3.scaleLinear().domain([-2,5]).range([50,550]);
  const y11 = d3.scaleLinear().domain([0,0.35]).range([250,30]);
  const line11 = d3.line().x(d=>x11(d.x)).y(d=>y11(d.y));
  function gaussian(mu, sigma, color) {
    const data = d3.range(-2,5,0.1).map(x=>({x:x, y: (1/(sigma*Math.sqrt(2*Math.PI)))*Math.exp(-0.5*((x-mu)/sigma)**2)}));
    svg11.append("path").datum(data)
      .attr("fill","none")
      .attr("stroke",color).attr("stroke-width",2)
      .attr("d",line11)
      .attr("opacity",0)
      .transition().duration(1000).attr("opacity",1);
  }
  gaussian(0.8,0.9,"#f5b041");
  gaussian(1.8,0.9,"#2471a3");
  svg11.append("text").attr("x",450).attr("y",50).text("p(x,y=0)*v(x)").style("fill","#f5b041");
  svg11.append("text").attr("x",450).attr("y",70).text("p(x,y=1)*v(x)").style("fill","#2471a3");

  // ---------------- Chart 12 ----------------
  const svg12 = d3.select("#chart12");
  svg12.append("rect")
    .attr("x",60).attr("y",80).attr("width",100).attr("height",100)
    .attr("fill","#aed6f1");
  svg12.append("rect")
    .attr("x",110).attr("y",30).attr("width",100).attr("height",100)
    .attr("fill","#fad7a0");
  svg12.append("line")
    .attr("x1",110).attr("y1",130).attr("x2",110).attr("y2",130)
    .attr("stroke","#7d3c98").attr("stroke-width",2)
    .transition().duration(1500).attr("x2",160).attr("y2",80);
  svg12.append("circle").attr("cx",160).attr("cy",80).attr("r",4).attr("fill","#7d3c98");
  </script>
</body>
</html>
